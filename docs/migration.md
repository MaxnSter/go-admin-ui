# go-admin-ui Vue 2 åˆ° Vue 3 è¿ç§»æŠ€æœ¯æ‰§è¡Œæ–‡æ¡£

## ä¸€ã€é¡¹ç›®æ¦‚å†µåˆ†æ

### 1.1 é¡¹ç›®è§„æ¨¡ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| **æ€»ä»£ç è¡Œæ•°** | 24,977 è¡Œ | åŒ…å« Vueã€JSã€CSS/SCSS æ–‡ä»¶ |
| **Vue ç»„ä»¶æ€»æ•°** | 101 ä¸ª | å•æ–‡ä»¶ç»„ä»¶ (.vue) |
| **é¡µé¢ç»„ä»¶æ•°** | 51 ä¸ª | src/views ç›®å½•ä¸‹çš„ä¸šåŠ¡é¡µé¢ |
| **å…¬å…±ç»„ä»¶æ•°** | 36 ä¸ª | src/components ç›®å½•ä¸‹çš„å¯å¤ç”¨ç»„ä»¶ |
| **å¸ƒå±€ç»„ä»¶æ•°** | 14 ä¸ª | src/layout ç›®å½•ä¸‹çš„å¸ƒå±€ç»„ä»¶ |
| **JavaScript æ–‡ä»¶æ•°** | 85 ä¸ª | å·¥å…·å‡½æ•°ã€APIã€é…ç½®ç­‰ |
| **API æ¨¡å—æ•°** | 20 ä¸ª | src/api ç›®å½•ä¸‹çš„æ¥å£æ¨¡å— |
| **Vuex æ¨¡å—æ•°** | 7 ä¸ª | çŠ¶æ€ç®¡ç†æ¨¡å— |
| **Options API ç»„ä»¶** | 99 ä¸ª | ä½¿ç”¨ä¼ ç»Ÿ Vue 2 è¯­æ³•çš„ç»„ä»¶ |
| **Vue å®ä¾‹æ–¹æ³•è°ƒç”¨** | 200+ æ¬¡ | this.$routerã€this.$store ç­‰è°ƒç”¨ |
| **å…¨å±€ Vue API ä½¿ç”¨** | 29 å¤„ | Vue.useã€Vue.prototype ç­‰ |
| **è¿‡æ»¤å™¨ä½¿ç”¨** | 8+ ä¸ª | å…¨å±€è¿‡æ»¤å™¨å’Œç»„ä»¶è¿‡æ»¤å™¨ |
| **è‡ªå®šä¹‰æŒ‡ä»¤** | 6+ ä¸ª | æƒé™æ§åˆ¶ã€UIäº¤äº’æŒ‡ä»¤ |

### 1.2 æ ¸å¿ƒä¸šåŠ¡æ¨¡å—

| æ¨¡å— | ç»„ä»¶æ•° | å¤æ‚åº¦ | ä¸»è¦åŠŸèƒ½ |
|------|--------|--------|----------|
| **ç®¡ç†ç³»ç»Ÿæ¨¡å—** | 25+ | â­â­â­â­â­ | ç”¨æˆ·ã€è§’è‰²ã€æƒé™ã€èœå•ã€éƒ¨é—¨ç®¡ç† |
| **å¼€å‘å·¥å…·æ¨¡å—** | 8+ | â­â­â­â­ | ä»£ç ç”Ÿæˆã€è¡¨å•æ„å»º |
| **ç³»ç»Ÿç›‘æ§æ¨¡å—** | 6+ | â­â­â­ | æ“ä½œæ—¥å¿—ã€ç™»å½•æ—¥å¿—ã€ç³»ç»Ÿç›‘æ§ |
| **åŸºç¡€åŠŸèƒ½æ¨¡å—** | 12+ | â­â­â­ | ç™»å½•ã€ä¸ªäººä¸­å¿ƒã€ä»ªè¡¨æ¿ |
| **å…¬å…±ç»„ä»¶åº“** | 36+ | â­â­â­â­ | å›¾è¡¨ã€è¡¨å•ã€è¡¨æ ¼ã€ä¸Šä¼ ç­‰ |

### 1.3 æŠ€æœ¯å€ºåŠ¡åˆ†æ

| æŠ€æœ¯å€ºåŠ¡ç±»å‹ | å½±å“èŒƒå›´ | è¿ç§»éš¾åº¦ | ä¼˜å…ˆçº§ |
|-------------|----------|----------|--------|
| **Element UI ä¾èµ–** | å…¨é¡¹ç›® | â­â­â­â­â­ | ğŸ”´ é«˜ |
| **Vue Router 3.x** | è·¯ç”±ç³»ç»Ÿ | â­â­â­â­ | ğŸ”´ é«˜ |
| **è¿‡æ»¤å™¨ç³»ç»Ÿ** | 8+ å¤„ä½¿ç”¨ | â­â­â­ | ğŸ”´ é«˜ |
| **è‡ªå®šä¹‰æŒ‡ä»¤** | 6+ ä¸ªæŒ‡ä»¤ | â­â­â­ | ğŸ”´ é«˜ |
| **Vuex 3.x** | çŠ¶æ€ç®¡ç† | â­â­â­ | ğŸŸ¡ ä¸­ |
| **ç¬¬ä¸‰æ–¹æ’ä»¶å…¼å®¹æ€§** | å¤šä¸ªæ¨¡å— | â­â­â­â­ | ğŸ”´ é«˜ |
| **å…¨å±€ API ä½¿ç”¨** | 29 å¤„ | â­â­ | ğŸŸ¡ ä¸­ |
| **ç»„ä»¶è¯­æ³•è¿ç§»** | 99 ä¸ªç»„ä»¶ | â­â­â­ | ğŸŸ¡ ä¸­ |

## äºŒã€æ€»ä½“è¿ç§»æ¶æ„è®¾è®¡

### 2.1 è¿ç§»ç­–ç•¥

é‡‡ç”¨**åˆ†é˜¶æ®µæ¸è¿›å¼è¿ç§»**ç­–ç•¥ï¼Œç¡®ä¿æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯è¿è¡Œçš„ç‰ˆæœ¬ï¼š

```
Vue 2 é¡¹ç›® â†’ Vue 3 å…¼å®¹ç¯å¢ƒ â†’ åˆ†æ¨¡å—è¿ç§» â†’ ä¼˜åŒ–é‡æ„ â†’ ç”Ÿäº§éƒ¨ç½²
```

### 2.2 æŠ€æœ¯æ ˆå‡çº§è·¯å¾„

| å½“å‰æŠ€æœ¯æ ˆ | ç›®æ ‡æŠ€æœ¯æ ˆ | è¿ç§»æ–¹å¼ |
|------------|------------|----------|
| Vue 2.6.11 | Vue 3.3+ | Migration Build â†’ å®Œå…¨è¿ç§» |
| Vue CLI | Vite | é‡æ–°é…ç½®æ„å»ºå·¥å…· |
| Element UI 2.x | Element Plus | ç»„ä»¶é€ä¸ªæ›¿æ¢ |
| Vue Router 3.x | Vue Router 4.x | API å‡çº§ |
| Vuex 3.x | Pinia | çŠ¶æ€ç®¡ç†é‡æ„ |
| JavaScript | TypeScript | æ¸è¿›å¼ç±»å‹åŒ– |

## ä¸‰ã€è¿ç§»ä»»åŠ¡æ‹†åˆ†ï¼ˆ5ä¸ªç‹¬ç«‹å­ä»»åŠ¡ï¼‰

### ä»»åŠ¡ 0ï¼šåŸºç¡€ç¯å¢ƒæ­å»ºï¼ˆå‰ç½®ä»»åŠ¡ï¼‰

**ç›®æ ‡**ï¼šå»ºç«‹å¯è¿è¡Œçš„ Vue 3 åŸºç¡€ç¯å¢ƒ

**å·¥ä½œå†…å®¹**ï¼š
- åˆ›å»ºæ–°çš„ Vue 3 é¡¹ç›®ç»“æ„
- é…ç½® Vite æ„å»ºå·¥å…·
- è®¾ç½® TypeScript æ”¯æŒ
- å»ºç«‹åŸºç¡€çš„è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†
- é…ç½®å¼€å‘ç¯å¢ƒå’Œæ„å»ºæµç¨‹

**äº¤ä»˜ç‰©**ï¼š
- å¯è¿è¡Œçš„ Vue 3 ç©ºé¡¹ç›®
- å®Œæ•´çš„å¼€å‘ç¯å¢ƒé…ç½®
- CI/CD æµç¨‹é…ç½®

**æ—¶é—´ä¼°ç®—**ï¼š1 å‘¨

---

### ä»»åŠ¡ 1ï¼šæ ¸å¿ƒæ¡†æ¶å’Œè·¯ç”±ç³»ç»Ÿè¿ç§»

**ç›®æ ‡**ï¼šå®Œæˆ Vue Router 4.x å‡çº§ã€è¿‡æ»¤å™¨è¿ç§»ã€è‡ªå®šä¹‰æŒ‡ä»¤è¿ç§»å’ŒåŸºç¡€å¯¼èˆªåŠŸèƒ½è¿ç§»

**ä¾èµ–**ï¼šä»»åŠ¡ 0 å®Œæˆ

**å·¥ä½œå†…å®¹**ï¼š
1. **Vue Router 4.x å‡çº§**
   - è·¯ç”±é…ç½®è¯­æ³•æ›´æ–°ï¼ˆcreateRouter APIï¼‰
   - å¯¼èˆªå®ˆå« API è¿ç§»ï¼ˆnext() å‡½æ•°è°ƒæ•´ï¼‰
   - åŠ¨æ€è·¯ç”±æ·»åŠ æ–¹å¼æ›´æ–°ï¼ˆaddRoutes â†’ addRouteï¼‰
   
2. **è¿‡æ»¤å™¨ç³»ç»Ÿè¿ç§»**
   - å…¨å±€è¿‡æ»¤å™¨è¿ç§»åˆ°å…¨å±€å±æ€§
   - ç»„ä»¶å†…è¿‡æ»¤å™¨è¿ç§»åˆ°è®¡ç®—å±æ€§/æ–¹æ³•
   - æ¨¡æ¿è¯­æ³•æ›´æ–°ï¼ˆ| filter â†’ $filter()ï¼‰
   
3. **è‡ªå®šä¹‰æŒ‡ä»¤è¿ç§»**
   - æŒ‡ä»¤ç”Ÿå‘½å‘¨æœŸé’©å­æ›´æ–°ï¼ˆbind â†’ beforeMount ç­‰ï¼‰
   - æƒé™æ§åˆ¶æŒ‡ä»¤è¿ç§»ï¼ˆv-permission, v-permisactionï¼‰
   - UIäº¤äº’æŒ‡ä»¤è¿ç§»ï¼ˆv-el-drag-dialog, v-waves ç­‰ï¼‰

4. **å¸ƒå±€ç³»ç»Ÿè¿ç§»**
   - `src/layout/` ä¸‹æ‰€æœ‰ç»„ä»¶è¿ç§»
   - ä¾§è¾¹æ å¯¼èˆªç»„ä»¶æ›´æ–°
   - é¢åŒ…å±‘å¯¼èˆªç»„ä»¶æ›´æ–°
   - æ ‡ç­¾é¡µç»„ä»¶æ›´æ–°

5. **æƒé™æ§åˆ¶ç³»ç»Ÿ**
   - `src/permission.js` è¿ç§»
   - è·¯ç”±æƒé™æ§åˆ¶æ›´æ–°
   - åŠ¨æ€èœå•ç”Ÿæˆé€»è¾‘

**å…³é”®æ–‡ä»¶**ï¼š
- `src/router/index.js` â†’ `src/router/index.ts`
- `src/filters/index.js` â†’ `src/filters/index.ts`
- `src/directive/` ç›®å½•ä¸‹æ‰€æœ‰æŒ‡ä»¤
- `src/layout/` ç›®å½•ä¸‹æ‰€æœ‰ç»„ä»¶
- `src/permission.js` â†’ `src/permission.ts`

**éªŒæ”¶æ ‡å‡†**ï¼š
- è·¯ç”±å¯¼èˆªæ­£å¸¸å·¥ä½œ
- æƒé™æ§åˆ¶åŠŸèƒ½æ­£å¸¸
- æ‰€æœ‰è¿‡æ»¤å™¨åŠŸèƒ½è¿ç§»å®Œæˆ
- è‡ªå®šä¹‰æŒ‡ä»¤åŠŸèƒ½æ­£å¸¸
- å¸ƒå±€ç»„ä»¶æ¸²æŸ“æ­£ç¡®

**æ—¶é—´ä¼°ç®—**ï¼š2 å‘¨

---

### ä»»åŠ¡ 2ï¼šçŠ¶æ€ç®¡ç†ç³»ç»Ÿè¿ç§»ï¼ˆVuex â†’ Piniaï¼‰

**ç›®æ ‡**ï¼šå®ŒæˆçŠ¶æ€ç®¡ç†ä» Vuex 3.x åˆ° Pinia çš„å…¨é¢è¿ç§»

**ä¾èµ–**ï¼šä»»åŠ¡ 1 å®Œæˆ

**å·¥ä½œå†…å®¹**ï¼š
1. **Pinia æ¶æ„é‡æ–°è®¾è®¡**
   - åŸºç¡€æ¶æ„æ­å»ºï¼ˆPinia å®ä¾‹ã€ç±»å‹å®šä¹‰ã€å…±äº«é€»è¾‘ï¼‰
   - æ ¸å¿ƒçŠ¶æ€æ¨¡å—è¿ç§»ï¼ˆç”¨æˆ·ã€æƒé™ã€æ ‡ç­¾é¡µç®¡ç†ï¼‰
   - è¾…åŠ©çŠ¶æ€æ¨¡å—è¿ç§»ï¼ˆåº”ç”¨è®¾ç½®ã€ç³»ç»Ÿé…ç½®ã€é”™è¯¯æ—¥å¿—ï¼‰
   - ç»„ä»¶é›†æˆå’Œæµ‹è¯•

2. **çŠ¶æ€ç®¡ç†å¤æ‚åº¦åˆ†æ**
   - ç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼šâ­â­â­â­â­ï¼ˆè®¤è¯æµç¨‹ã€æƒé™ç®¡ç†ï¼‰
   - æƒé™çŠ¶æ€ç®¡ç†ï¼šâ­â­â­â­â­ï¼ˆåŠ¨æ€è·¯ç”±ã€èœå•æƒé™ï¼‰
   - æ ‡ç­¾é¡µçŠ¶æ€ç®¡ç†ï¼šâ­â­â­â­ï¼ˆè§†å›¾ç¼“å­˜ã€æ ‡ç­¾é¡µæ“ä½œï¼‰
   - åº”ç”¨çŠ¶æ€ç®¡ç†ï¼šâ­â­â­ï¼ˆä¾§è¾¹æ ã€ä¸»é¢˜ã€è®¾å¤‡é€‚é…ï¼‰

3. **æŠ€æœ¯æ¶æ„å‡çº§**
   - Setup Store è¯­æ³•é‡‡ç”¨
   - TypeScript ç±»å‹å®‰å…¨
   - çŠ¶æ€æŒä¹…åŒ–ç­–ç•¥
   - æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

**å…³é”®æ–‡ä»¶**ï¼š
- `src/store/` â†’ `src/stores/`
- 7ä¸ª Vuex æ¨¡å—è¿ç§»åˆ° Pinia stores
- 38+ å¤„ç»„ä»¶çŠ¶æ€ä½¿ç”¨æ›´æ–°

**éªŒæ”¶æ ‡å‡†**ï¼š
- æ‰€æœ‰ Vuex åŠŸèƒ½è¿ç§»åˆ° Pinia
- ç”¨æˆ·è®¤è¯æµç¨‹æ­£å¸¸
- æƒé™æ§åˆ¶åŠŸèƒ½æ­£å¸¸
- æ ‡ç­¾é¡µç®¡ç†åŠŸèƒ½æ­£å¸¸
- çŠ¶æ€æŒä¹…åŒ–åŠŸèƒ½æ­£å¸¸
- TypeScript ç±»å‹æ£€æŸ¥é€šè¿‡
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 90%

**æ—¶é—´ä¼°ç®—**ï¼š1.5 å‘¨

---

### ä»»åŠ¡ 3ï¼šUI ç»„ä»¶åº“è¿ç§»ï¼ˆElement UI â†’ Element Plusï¼‰

**ç›®æ ‡**ï¼šå®Œæˆ UI ç»„ä»¶åº“çš„å…¨é¢è¿ç§»

**ä¾èµ–**ï¼šä»»åŠ¡ 1ã€2 å®Œæˆ

**å·¥ä½œå†…å®¹**ï¼š
1. **Element Plus é›†æˆ**
   - æŒ‰éœ€å¼•å…¥é…ç½®
   - ä¸»é¢˜å®šåˆ¶è¿ç§»
   - å›¾æ ‡ç³»ç»Ÿæ›´æ–°

2. **ç»„ä»¶ API æ›´æ–°**
   - è¡¨å•ç»„ä»¶ API æ›´æ–°
   - è¡¨æ ¼ç»„ä»¶ API æ›´æ–°
   - å¼¹çª—ç»„ä»¶ API æ›´æ–°
   - æ—¥æœŸé€‰æ‹©å™¨ç­‰ç»„ä»¶æ›´æ–°

3. **æ ·å¼ç³»ç»Ÿè¿ç§»**
   - SCSS å˜é‡æ›´æ–°
   - ç»„ä»¶æ ·å¼è¦†ç›–æ›´æ–°
   - å“åº”å¼å¸ƒå±€è°ƒæ•´

**å…³é”®æ–‡ä»¶**ï¼š
- `src/main.js` â†’ `src/main.ts`
- `src/styles/` ç›®å½•
- æ‰€æœ‰ä½¿ç”¨ Element UI ç»„ä»¶çš„æ–‡ä»¶

**éªŒæ”¶æ ‡å‡†**ï¼š
- æ‰€æœ‰é¡µé¢æ ·å¼æ­£å¸¸æ˜¾ç¤º
- è¡¨å•äº¤äº’åŠŸèƒ½æ­£å¸¸
- è¡¨æ ¼æ“ä½œåŠŸèƒ½æ­£å¸¸

**æ—¶é—´ä¼°ç®—**ï¼š2 å‘¨

---

### ä»»åŠ¡ 4ï¼šä¸šåŠ¡ç»„ä»¶å’Œé¡µé¢è¿ç§»

**ç›®æ ‡**ï¼šå®Œæˆæ‰€æœ‰ä¸šåŠ¡é¡µé¢å’Œç»„ä»¶çš„è¿ç§»

**ä¾èµ–**ï¼šä»»åŠ¡ 3 å®Œæˆ

**å·¥ä½œå†…å®¹**ï¼š
1. **ç®¡ç†ç³»ç»Ÿæ¨¡å—è¿ç§»**
   - ç”¨æˆ·ç®¡ç†é¡µé¢ (`src/views/admin/sys-user/`)
   - è§’è‰²ç®¡ç†é¡µé¢ (`src/views/admin/sys-role/`)
   - èœå•ç®¡ç†é¡µé¢ (`src/views/admin/sys-menu/`)
   - éƒ¨é—¨ç®¡ç†é¡µé¢ (`src/views/admin/sys-dept/`)
   - å…¶ä»–ç³»ç»Ÿç®¡ç†é¡µé¢

2. **å¼€å‘å·¥å…·æ¨¡å—è¿ç§»**
   - ä»£ç ç”Ÿæˆå·¥å…· (`src/views/dev-tools/gen/`)
   - è¡¨å•æ„å»ºå™¨ç›¸å…³ç»„ä»¶

3. **å…¬å…±ç»„ä»¶è¿ç§»**
   - å›¾è¡¨ç»„ä»¶ (`src/components/Charts/`)
   - è¡¨å•ç»„ä»¶ (`src/components/FormGen*/`)
   - ä¸Šä¼ ç»„ä»¶ (`src/components/Upload*/`)
   - å…¶ä»–å·¥å…·ç»„ä»¶

**å…³é”®æ–‡ä»¶**ï¼š
- `src/views/` ç›®å½•ä¸‹æ‰€æœ‰é¡µé¢
- `src/components/` ç›®å½•ä¸‹æ‰€æœ‰ç»„ä»¶

**éªŒæ”¶æ ‡å‡†**ï¼š
- æ‰€æœ‰ä¸šåŠ¡åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- æ•°æ®äº¤äº’æ­£å¸¸
- ç”¨æˆ·ä½“éªŒä¿æŒä¸€è‡´

**æ—¶é—´ä¼°ç®—**ï¼š2.5 å‘¨

---

### ä»»åŠ¡ 5ï¼šç¬¬ä¸‰æ–¹æ’ä»¶è¿ç§»å’Œæ€§èƒ½ä¼˜åŒ–

**ç›®æ ‡**ï¼šå®Œæˆç¬¬ä¸‰æ–¹æ’ä»¶è¿ç§»å’Œæ•´ä½“æ€§èƒ½ä¼˜åŒ–

**ä¾èµ–**ï¼šä»»åŠ¡ 4 å®Œæˆ

**å·¥ä½œå†…å®¹**ï¼š
1. **ç¬¬ä¸‰æ–¹æ’ä»¶è¿ç§»**
   - ECharts é›†æˆæ›´æ–°
   - CodeMirror ç¼–è¾‘å™¨è¿ç§»
   - æ–‡ä»¶ä¸Šä¼ ç»„ä»¶æ›´æ–°
   - å›¾ç‰‡è£å‰ªç»„ä»¶æ›´æ–°
   - æ‹–æ‹½ç»„ä»¶æ›´æ–°

2. **æ€§èƒ½ä¼˜åŒ–**
   - ä»£ç åˆ†å‰²ä¼˜åŒ–
   - æ‡’åŠ è½½é…ç½®
   - æ‰“åŒ…ä½“ç§¯ä¼˜åŒ–
   - è¿è¡Œæ—¶æ€§èƒ½ä¼˜åŒ–

3. **å¼€å‘ä½“éªŒä¼˜åŒ–**
   - TypeScript ç±»å‹å®Œå–„
   - ESLint è§„åˆ™æ›´æ–°
   - å¼€å‘å·¥å…·é…ç½®ä¼˜åŒ–

**å…³é”®æ–‡ä»¶**ï¼š
- `vite.config.ts`
- `tsconfig.json`
- `.eslintrc.js`
- æ‰€æœ‰ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶çš„ç»„ä»¶

**éªŒæ”¶æ ‡å‡†**ï¼š
- æ‰€æœ‰ç¬¬ä¸‰æ–¹åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- åº”ç”¨æ€§èƒ½è¾¾åˆ°é¢„æœŸ
- å¼€å‘ä½“éªŒè‰¯å¥½

**æ—¶é—´ä¼°ç®—**ï¼š1.5 å‘¨

## å››ã€æŠ€æœ¯æ‰§è¡Œæ–‡æ¡£

### 4.1 ç¯å¢ƒå‡†å¤‡

#### 4.1.1 å¼€å‘ç¯å¢ƒè¦æ±‚

```bash
# Node.js ç‰ˆæœ¬è¦æ±‚
node >= 16.0.0
npm >= 8.0.0
pnpm >= 8.0.0 (æ¨è)

# å…¨å±€å·¥å…·å®‰è£…
npm install -g @vue/cli@latest
npm install -g vite@latest
npm install -g typescript@latest
```

#### 4.1.2 é¡¹ç›®åˆå§‹åŒ–

```bash
# åˆ›å»ºè¿ç§»åˆ†æ”¯
git checkout -b feature/vue3-migration

# å¤‡ä»½å½“å‰é…ç½®
cp package.json package.json.backup
cp vue.config.js vue.config.js.backup

# åˆ›å»ºæ–°çš„é¡¹ç›®ç»“æ„
mkdir vue3-migration
cd vue3-migration
npm create vue@latest . -- --typescript --router --pinia --eslint
```

### 4.2 æ ¸å¿ƒé…ç½®æ–‡ä»¶

#### 4.2.1 Vite é…ç½® (`vite.config.ts`)

```typescript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { resolve } from 'path'
import AutoImport from 'unplugin-auto-import/vite'
import Components from 'unplugin-vue-components/vite'
import { ElementPlusResolver } from 'unplugin-vue-components/resolvers'

export default defineConfig({
  plugins: [
    vue(),
    AutoImport({
      resolvers: [ElementPlusResolver()],
      imports: ['vue', 'vue-router', 'pinia'],
      dts: true
    }),
    Components({
      resolvers: [ElementPlusResolver()],
      dts: true
    })
  ],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src')
    }
  },
  server: {
    port: 9527,
    open: true,
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '')
      }
    }
  },
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'element-plus': ['element-plus'],
          'vue-vendor': ['vue', 'vue-router', 'pinia'],
          'utils': ['axios', 'dayjs', 'lodash-es']
        }
      }
    }
  }
})
```

#### 4.2.2 TypeScript é…ç½® (`tsconfig.json`)

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "preserve",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  },
  "include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.tsx", "src/**/*.vue"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
```

### 4.3 è¿ç§»æ£€æŸ¥æ¸…å•

#### 4.3.1 Vue 3 å…¼å®¹æ€§æ£€æŸ¥

- [ ] ç§»é™¤ `new Vue()` è¯­æ³•ï¼Œä½¿ç”¨ `createApp()`
- [ ] æ›´æ–°å…¨å±€ API ä½¿ç”¨æ–¹å¼
- [ ] æ£€æŸ¥ `$children` ä½¿ç”¨ï¼Œæ›¿æ¢ä¸º `ref` æˆ– `provide/inject`
- [ ] æ›´æ–°äº‹ä»¶ APIï¼Œç§»é™¤ `$on`ã€`$off`ã€`$once`
- [ ] æ£€æŸ¥ `v-model` ä½¿ç”¨ï¼Œæ›´æ–°è‡ªå®šä¹‰ç»„ä»¶çš„ `v-model`
- [ ] æ›´æ–°è¿‡æ»¤å™¨ä¸ºè®¡ç®—å±æ€§æˆ–æ–¹æ³•

#### 4.3.2 Vue Router 4 è¿ç§»æ£€æŸ¥

- [ ] æ›´æ–°è·¯ç”±åˆ›å»ºæ–¹å¼ï¼š`createRouter()`
- [ ] æ›´æ–°å†å²æ¨¡å¼ï¼š`createWebHistory()`
- [ ] æ›´æ–°å¯¼èˆªå®ˆå«è¯­æ³•
- [ ] æ£€æŸ¥ `router.addRoutes()` ä½¿ç”¨ï¼Œæ›¿æ¢ä¸º `router.addRoute()`
- [ ] æ›´æ–°è·¯ç”±å…ƒä¿¡æ¯ç±»å‹å®šä¹‰

#### 4.3.3 çŠ¶æ€ç®¡ç†è¿ç§»æ£€æŸ¥

- [ ] åˆ›å»º Pinia stores
- [ ] æ›´æ–°ç»„ä»¶ä¸­çš„çŠ¶æ€ä½¿ç”¨æ–¹å¼
- [ ] è¿ç§» Vuex modules åˆ° Pinia stores
- [ ] æ›´æ–°çŠ¶æ€æŒä¹…åŒ–é€»è¾‘
- [ ] æµ‹è¯•çŠ¶æ€ç®¡ç†åŠŸèƒ½

### 4.4 è´¨é‡ä¿è¯

#### 4.4.1 æµ‹è¯•ç­–ç•¥

```bash
# å•å…ƒæµ‹è¯•
npm run test:unit

# ç«¯åˆ°ç«¯æµ‹è¯•
npm run test:e2e

# ç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç è´¨é‡æ£€æŸ¥
npm run lint
```

#### 4.4.2 æ€§èƒ½ç›‘æ§

- ä½¿ç”¨ Vue DevTools 3.0 ç›‘æ§ç»„ä»¶æ€§èƒ½
- ä½¿ç”¨ Lighthouse æ£€æŸ¥é¡µé¢æ€§èƒ½
- ç›‘æ§æ‰“åŒ…ä½“ç§¯å˜åŒ–
- æ£€æŸ¥è¿è¡Œæ—¶å†…å­˜ä½¿ç”¨

### 4.5 éƒ¨ç½²ç­–ç•¥

#### 4.5.1 æ¸è¿›å¼éƒ¨ç½²

1. **å¼€å‘ç¯å¢ƒéªŒè¯**ï¼šå®Œæˆè¿ç§»ååœ¨å¼€å‘ç¯å¢ƒå……åˆ†æµ‹è¯•
2. **æµ‹è¯•ç¯å¢ƒéƒ¨ç½²**ï¼šéƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒè¿›è¡Œé›†æˆæµ‹è¯•
3. **é¢„ç”Ÿäº§éªŒè¯**ï¼šåœ¨é¢„ç”Ÿäº§ç¯å¢ƒè¿›è¡Œæ€§èƒ½å’Œç¨³å®šæ€§æµ‹è¯•
4. **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**ï¼šé‡‡ç”¨è“ç»¿éƒ¨ç½²æˆ–æ»šåŠ¨æ›´æ–°ç­–ç•¥

#### 4.5.2 å›æ»šè®¡åˆ’

- ä¿ç•™ Vue 2 ç‰ˆæœ¬çš„å®Œæ•´å¤‡ä»½
- å‡†å¤‡å¿«é€Ÿå›æ»šè„šæœ¬
- å»ºç«‹ç›‘æ§å‘Šè­¦æœºåˆ¶
- åˆ¶å®šåº”æ€¥å“åº”æµç¨‹

## äº”ã€é£é™©è¯„ä¼°ä¸åº”å¯¹

### 5.1 ä¸»è¦é£é™©

| é£é™©ç±»å‹ | é£é™©ç­‰çº§ | å½±å“èŒƒå›´ | åº”å¯¹ç­–ç•¥ |
|----------|----------|----------|----------|
| **ç¬¬ä¸‰æ–¹åº“å…¼å®¹æ€§** | ğŸ”´ é«˜ | å…¨é¡¹ç›® | æå‰è°ƒç ”æ›¿ä»£æ–¹æ¡ˆï¼Œå‡†å¤‡é™çº§ç­–ç•¥ |
| **ä¸šåŠ¡åŠŸèƒ½å›å½’** | ğŸ”´ é«˜ | æ ¸å¿ƒåŠŸèƒ½ | å®Œå–„æµ‹è¯•ç”¨ä¾‹ï¼Œå……åˆ†å›å½’æµ‹è¯• |
| **æ€§èƒ½ä¸‹é™** | ğŸŸ¡ ä¸­ | ç”¨æˆ·ä½“éªŒ | æ€§èƒ½ç›‘æ§ï¼Œä¼˜åŒ–å…³é”®è·¯å¾„ |
| **å¼€å‘å‘¨æœŸå»¶é•¿** | ğŸŸ¡ ä¸­ | é¡¹ç›®è¿›åº¦ | åˆç†æ‹†åˆ†ä»»åŠ¡ï¼Œå¹¶è¡Œå¼€å‘ |

### 5.2 æˆåŠŸæ ‡å‡†

- âœ… æ‰€æœ‰ç°æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… é¡µé¢åŠ è½½æ€§èƒ½ä¸ä½äºå½“å‰ç‰ˆæœ¬
- âœ… ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§æå‡
- âœ… å¼€å‘ä½“éªŒæ˜¾è‘—æ”¹å–„
- âœ… ä¸ºæœªæ¥åŠŸèƒ½æ‰©å±•å¥ å®šåŸºç¡€

è¿™ä»½è¿ç§»æŒ‡å—æä¾›äº†ä»æ¶æ„è®¾è®¡åˆ°å…·ä½“å®æ–½çš„å®Œæ•´è·¯å¾„ï¼Œç¡®ä¿ go-admin-ui é¡¹ç›®èƒ½å¤Ÿå¹³ç¨³ã€é«˜æ•ˆåœ°ä» Vue 2 è¿ç§»åˆ° Vue 3ã€‚
